(this["webpackJsonpteamwork-app-react-fe"]=this["webpackJsonpteamwork-app-react-fe"]||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),o=a.n(i),s=a(14),c=(a(29),a(5)),l=a(6),m=a(8),u=a(7),h=a(9),p=a(10),d=(a(30),a(21)),g=a(13),f="https://teamwork-app-api-stage.herokuapp.com/api/v1",b={signIn:"".concat(f,"/auth/signin"),signUp:"".concat(f,"/auth/create-user"),feeds:"".concat(f,"/feed"),articles:"".concat(f,"/articles"),gifs:"".concat(f,"/gifs")},v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isSigningIn:!1,email:"",password:"",error:null},a.handleChange=a.handleChange.bind(Object(g.a)(a)),a.handleSignIn=a.handleSignIn.bind(Object(g.a)(a)),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(d.a)({},a,n))}},{key:"handleSignIn",value:function(e){var t=this;e.preventDefault(),this.setState({error:null,isSigningIn:!0});var a=this.props.history,n=this.state,r=n.email,i=n.password,o={method:"POST",mode:"cors",body:JSON.stringify({email:r,password:i}),headers:{"Content-Type":"application/json"}};fetch(b.signIn,o).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var n=e.data,r=n.token,i=n.firstName;localStorage.setItem("qoqxTMwk",JSON.stringify({token:r,firstName:i})),t.setState({error:null,isSigningIn:!1,password:""}),a.push("/feed")})).catch((function(e){return t.setState({error:e.message||e.error.message,isSigningIn:!1,password:""})}))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isSigningIn,i=e.error;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement("span",{className:"message error"},i),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"E-mail Address:",r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSignIn,disabled:n},n?"Signing in...":"Sign in"))))}}]),t}(r.a.Component),E=(a(31),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-intro"},"Welcome to the"," ",r.a.createElement("strong",null,"TeamWork")," ","app"),r.a.createElement("div",{className:"home-sign-in"},r.a.createElement(v,this.props)))}}]),t}(r.a.Component)),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Oops!!!"),r.a.createElement("div",null,"This page no longer exists..."))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"app-header"},r.a.createElement(s.b,{to:"/"},r.a.createElement("span",{id:"app-logo"},"TeamWork"))),r.a.createElement("div",{className:"app-content-wrapper"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:E,exact:!0}),r.a.createElement(p.a,{path:"*",component:O}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(s.a,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.a6bbe71c.chunk.js.map