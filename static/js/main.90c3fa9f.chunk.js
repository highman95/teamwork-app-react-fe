(this["webpackJsonpteamwork-app-react-fe"]=this["webpackJsonpteamwork-app-react-fe"]||[]).push([[0],{19:function(e,t,a){},24:function(e,t,a){},29:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),l=a.n(s),o=a(7),c=(a(34),a(3)),i=a(5),m=a(4),u=a(2),d=a(6),p=a(16),h=a(1),g=a.n(h),v=a(8),f=null!==localStorage.getItem("qoqxTMwk"),b=function(){return f?JSON.parse(localStorage.getItem("qoqxTMwk")).token:null},E=function(e){if(!(e.includes("expired")&&e.includes("jwt")))throw new Error(e);y()},S=function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return n=e.sent,e.next=5,n.json();case 5:return"error"===(r=e.sent).status&&E(r.error),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){localStorage.removeItem("qoqxTMwk"),window.location="/"},O=a(26),j=function(e){var t=e.component,a=Object(O.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return f?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/",state:{from:e.location}}})}}))},k=(a(41),a(13)),C=a(9),w="https://teamwork-app-api-stage.herokuapp.com/api/v1",N={signIn:"".concat(w,"/auth/signin"),signUp:"".concat(w,"/auth/create-user"),feeds:"".concat(w,"/feed"),articles:"".concat(w,"/articles"),gifs:"".concat(w,"/gifs"),roles:"".concat(w,"/roles"),departments:"".concat(w,"/departments")},x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isSigningIn:!1,email:"",password:"",error:null},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(k.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.email,n=t.password;this.signIn(a,n)}},{key:"signIn",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s,l,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:null,isSigningIn:!0}),n={method:"POST",mode:"cors",body:JSON.stringify({email:t,password:a}),headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,S(N.signIn,n);case 5:r=e.sent,this.setState({error:null,isSigningIn:!1,password:""}),s=r.data,l=s.token,o=s.firstName,localStorage.setItem("qoqxTMwk",JSON.stringify({token:l,firstName:o})),window.location="/feed",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),this.setState({error:e.t0.message||e.t0.error.message,isSigningIn:!1,password:""});case 15:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isSigningIn,s=e.error;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("span",{className:"message error"},s),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"E-mail Address:",r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:n},n?"Signing in...":"Sign in")," ",r.a.createElement(o.b,{to:"/user/create"},"Sign UP!"))))}}]),t}(r.a.Component),I=(a(42),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return f?r.a.createElement(p.a,{to:"/feed"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-intro"},"Welcome to the"," ",r.a.createElement("strong",null,"TeamWork")," ","app"),r.a.createElement("div",{className:"home-sign-in"},r.a.createElement(x,this.props)))}}]),t}(r.a.Component)),T=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isSaving:!1,error:null,comment:""},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSave=a.handleSave.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({comment:e.target.value})}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.props,a=t.postType,n=t.postId,r=this.state.comment;this.addComment(r,n,a)}},{key:"addComment",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n){var r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a||void 0===n){e.next=15;break}return this.setState({error:null,isSaving:!0}),r="gif"===n?N.gifs:N.articles,s={method:"POST",mode:"cors",body:JSON.stringify({comment:t}),headers:{"Content-Type":"application/json",token:b()}},e.prev=4,e.next=7,S("".concat(r,"/").concat(a,"/comment"),s);case 7:(0,this.props.onCommentSave)({commentId:Date.now(),comment:t,authorId:0,authorName:"You"}),this.setState({isSaving:!1,error:null,comment:""}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.setState({isSaving:!1,error:e.t0.message||e.t0.error.message});case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.comment,a=e.error,n=e.isSaving;return r.a.createElement("div",{className:"comment-form"},a&&r.a.createElement("span",{className:"message error"},a),r.a.createElement("form",null,r.a.createElement("textarea",{onChange:this.handleChange,value:t,placeholder:"Add a comment...",disabled:n}),r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:n},n?"Saving...":"Save")," ",r.a.createElement("small",null,r.a.createElement(o.b,{to:"/feed"},"Feed \u2192"))))}}]),t}(r.a.Component);a(43);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!1,comments:[],postId:"",postType:""},a.handleCommentsChange=a.handleCommentsChange.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleCommentsChange",value:function(e){var t=this.state.comments;t.push(e),this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.comments,n=e.postId,s=e.postType,l=a&&a.map((function(e){return r.a.createElement(D,{key:e.commentId,comment:e})}));return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"loading-box"},"Loading Comments..."):r.a.createElement("div",{className:"post-comments-box"},l,r.a.createElement(T,{postId:n,postType:s,onCommentSave:this.handleCommentsChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.comments,n=e.postId,r=e.postType,s=t.comments,l=t.postId;return a.length===s.length&&n===l?null:{comments:a,postId:n,postType:r}}}]),t}(r.a.Component);q.defaultProps={comments:[],postId:"",postType:""};var D=function(e){var t=e.comment;return r.a.createElement("div",{className:"comment-wrapper"},r.a.createElement("div",{className:"comment-box"},t.comment),r.a.createElement("div",{className:"author-box"},t.authorName||"User-".concat(t.authorId)))},F=q,L=(a(19),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!1,error:null,post:{comments:[]}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.post;if(void 0!==e.id)this.setState({post:e});else{var t=this.props.match.params,a=t.postType,n=t.postId;this.fetchPost(n,a)}}},{key:"fetchPost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=14;break}return this.setState({error:null,isLoading:!0}),n="gif"===a?N.gifs:N.articles,r={headers:{"Content-Type":"application/json",token:b()}},e.prev=4,e.next=7,S("".concat(n,"/").concat(t),r);case 7:s=e.sent,this.setState({isLoading:!1,error:null,post:s.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.setState({isLoading:!1,error:e.t0.message||e.t0.error.message});case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.showComments,t=this.state,a=t.isLoading,n=t.error,s=t.post,l=void 0===s?{}:s,c=l.comments,i=l.article?"article":"gif";return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("span",{className:"message error"},n),a?r.a.createElement("div",{className:"loading-box"},"Loading Post..."):l?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"post-title"},r.a.createElement(o.b,{to:"/post/".concat(i,"/").concat(l.id)},l.title),r.a.createElement("div",{className:"post-task-link"},!!l.article&&r.a.createElement(o.b,{to:"/".concat(i,"/edit/").concat(l.id),className:"edit-link"},"Edit"),r.a.createElement(o.b,{to:"/".concat(i,"/delete/").concat(l.id),className:"delete-link"},"Delete"))),r.a.createElement("div",{className:"post-content"},l.article?r.a.createElement("div",{className:"post-content-text"},l.article):r.a.createElement("img",{src:l.url,alt:"".concat(l.title,"-").concat(Date.now()),className:"post-content-image"})),e&&r.a.createElement(F,{comments:c,postId:l.id,postType:i})):r.a.createElement("h4",null,"Post does not exist..."))}}]),t}(r.a.Component));L.defaultProps={showComments:!0,post:{}};var R=L,A=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!1,error:null,feeds:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchFeeds()}},{key:"fetchFeeds",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:null,isLoading:!0}),t={mode:"cors",headers:{"Content-Type":"application/json",token:b()}},e.prev=2,e.next=5,S(N.feeds,t);case 5:a=e.sent,this.setState({isLoading:!1,error:null,feeds:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.setState({isLoading:!1,error:e.t0.message||e.t0.error.message});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,n=e.feeds.map((function(e){return r.a.createElement(R,{key:e.id,showComments:!1,post:e})}));return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("span",{className:"message error"},a),t?r.a.createElement("div",{className:"loading-box"},"Loading Feeds..."):n)}}]),t}(r.a.Component);a(24);function M(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Article"),r.a.createElement("hr",null),r.a.createElement(U,null))}function J(e){var t=e.match.params.postId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Edit Article"),r.a.createElement("hr",null),r.a.createElement(U,{postId:t}))}var U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isSaving:!1,message:null,error:null,title:"",article:"",postId:e.postId||0},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSave=a.handleSave.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.postId,a=e.isSaving;0!==t&&(this.setState({isSaving:!0}),this.fetchPost(t,"article"),this.setState({isSaving:a}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(k.a)({},a,n))}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state,a=t.title,n=t.article,r=t.postId;0===r?this.addPost(a,n):this.updatePost(r,a,n)}},{key:"addPost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=14;break}return this.setState({isSaving:!0,message:null,error:null}),n={method:"POST",mode:"cors",body:JSON.stringify({title:t,article:a}),headers:{"Content-Type":"application/json",token:b()}},e.prev=3,e.next=6,S("".concat(N.articles),n);case 6:r=e.sent,s=r.data.message,this.setState({isSaving:!1,message:s,error:null,title:"",article:""}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.setState({isSaving:!1,message:null,error:e.t0.message||e.t0.error.message});case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchPost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s,l,o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||0===t||void 0===a){e.next=15;break}return this.setState({error:null,isLoading:!0}),n="gif"===a?N.gifs:N.articles,r={headers:{"Content-Type":"application/json",token:b()}},e.prev=4,e.next=7,S("".concat(n,"/").concat(t),r);case 7:s=e.sent,l=s.data,o=l.title,c=l.article,this.setState({isLoading:!1,error:null,title:o,article:c}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),this.setState({isLoading:!1,error:e.t0.message||e.t0.error.message});case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n){var r,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a||void 0===n){e.next=14;break}return this.setState({isSaving:!0,message:null,error:null}),r={method:"PATCH",mode:"cors",body:JSON.stringify({title:a,article:n}),headers:{"Content-Type":"application/json",token:b()}},e.prev=3,e.next=6,S("".concat(N.articles,"/").concat(t),r);case 6:s=e.sent,l=s.data.message,this.setState({isSaving:!1,message:l,error:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.setState({isSaving:!1,message:null,error:e.t0.message||e.t0.error.message});case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isSaving,a=e.message,n=e.error,s=e.title,l=e.article;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-form-wrapper"},a&&r.a.createElement("span",{className:"message success"},a),n&&r.a.createElement("span",{className:"message error"},n),r.a.createElement("div",{className:"post-form-display"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",value:s,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:",r.a.createElement("textarea",{name:"article",rows:"7",value:l,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:t},t?"Saving...":"Save")," ",r.a.createElement("small",null,r.a.createElement(o.b,{to:"/feed"},"Feed \u2192"))))),r.a.createElement("div",{id:"post-form-reporter"})))}}]),t}(r.a.Component);function W(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Gif"),r.a.createElement("hr",null),r.a.createElement(G,null))}var G=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isSaving:!1,message:null,error:null,title:"",image:""},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSave=a.handleSave.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=t.type,s=t.files;n="file"===r?s[0]:n,this.setState(Object(k.a)({},a,n))}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state,a=t.title,n=t.image;this.addPost(a,n)}},{key:"addPost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=17;break}return this.setState({isSaving:!0,message:null,error:null}),(n=new FormData).append("title",t),n.append("image",a),r={method:"POST",mode:"cors",body:n,headers:{token:b()}},e.prev=6,e.next=9,S(N.gifs,r);case 9:s=e.sent,l=s.data.message,this.setState({isSaving:!1,message:l,error:null,title:"",image:""}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),this.setState({isSaving:!1,message:null,error:e.t0.message||e.t0.error.message});case 17:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isSaving,a=e.message,n=e.error,s=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-form-wrapper"},a&&r.a.createElement("span",{className:"message success"},a),n&&r.a.createElement("span",{className:"message error"},n),r.a.createElement("div",{className:"post-form-display"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",value:s,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:",r.a.createElement("input",{type:"file",name:"image",onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:t},t?"Saving...":"Save")))),r.a.createElement("div",{id:"post-form-reporter"})))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isDeleting:!1,message:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(C.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.match.params,a=t.postId,n=t.postType;this.deletePost(a,n)}},{key:"deletePost",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a){var n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=14;break}return this.setState({isDeleting:!0}),n="gif"===a?N.gifs:N.articles,r={method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",token:b()}},e.prev=4,e.next=7,S("".concat(n,"/").concat(t),r);case 7:s=e.sent,this.setState({isDeleting:!1,error:null,message:s.data.message}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),this.setState({isDeleting:!1,message:null,error:e.t0.message||e.t0.error.message});case 14:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.match.params.postType,t=this.state,a=t.isDeleting,n=t.message,s=t.error;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("span",{className:"message success"},n),s&&r.a.createElement("span",{className:"message error"},s),r.a.createElement("div",null,r.a.createElement("div",null,"Are you sure you want to delete the",r.a.createElement("strong",null,e)," ","Post?"),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:a},a?"Deleting":"Continue")))}}]),t}(r.a.Component);function H(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Register User Account"),r.a.createElement("hr",null),r.a.createElement(Y,null))}var Y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={isSaving:!1,isRequesting:!1,message:null,error:null,jobRoles:[],departments:[],firstName:"",lastName:"",email:"",password:"",gender:"male",jobRole:"",department:"",address:""},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(a)),a.populateFields(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"populateFields",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isRequesting:!0}),t={mode:"cors"},e.prev=2,e.next=5,S(N.roles,t);case 5:return a=e.sent,e.next=8,S(N.departments,t);case 8:n=e.sent,r=a.data,s=n.data,this.setState({isRequesting:!1,jobRole:r[0].name,jobRoles:r,department:s[0].name,departments:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this.setState({error:e.t0.message||e.t0.error.message,isRequesting:!1});case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(k.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.firstName,n=t.lastName,r=t.email,s=t.password,l=t.gender,o=t.jobRole,c=t.department,i=t.address;this.addUser(a,n,r,s,l,o,c,i)}},{key:"addUser",value:function(){var e=Object(v.a)(g.a.mark((function e(t,a,n,r,s,l,o,c){var i,m,u,d,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isSaving:!0,message:null}),i={method:"POST",mode:"cors",body:JSON.stringify({firstName:t,lastName:a,email:n,password:r,gender:s,jobRole:l,department:o,address:c}),headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,S(N.signUp,i);case 5:m=e.sent,u=m.data,d=u.message,p=u.token,this.setState({isSaving:!1,message:d,error:null,firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""}),f||(localStorage.setItem("qoqxTMwk",JSON.stringify({token:p,firstName:t})),window.location="/feed"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.setState({isSaving:!1,error:e.t0.message||e.t0.error.message});case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t,a,n,r,s,l,o,c){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,s=e.password,l=e.jobRole,o=e.department,c=e.address,i=e.isRequesting,m=e.isSaving,u=e.message,d=e.error,p=e.jobRoles,h=e.departments,g=p&&p.map((function(e){return r.a.createElement("option",{key:Math.random(),value:e.name},e.name)})),v=h&&h.map((function(e){return r.a.createElement("option",{key:Math.random(),value:e.name},e.name)}));return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement("span",{className:"message success"},u),d&&r.a.createElement("span",{className:"message error"},d),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name:",r.a.createElement("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange,disabled:i,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name:",r.a.createElement("input",{type:"text",name:"lastName",value:a,onChange:this.handleChange,disabled:i,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email Address:",r.a.createElement("input",{type:"email",name:"email",value:n,onChange:this.handleChange,disabled:i,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:s,onChange:this.handleChange,disabled:i,required:!0}))),r.a.createElement("div",{className:"form-group"},"Gender:",r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"male",onChange:this.handleChange,maxLength:"6",disabled:i,defaultChecked:!0})," ","Male"),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"female",onChange:this.handleChange,maxLength:"6",disabled:i})," ","Female"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Job Role:",r.a.createElement("select",{name:"jobRole",value:l,onChange:this.handleChange,disabled:i,required:!0},g))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Department:",r.a.createElement("select",{name:"department",value:o,onChange:this.handleChange,disabled:i,required:!0},v))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:",r.a.createElement("textarea",{name:"address",value:c,onChange:this.handleChange,disabled:i,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:i},m?"Saving...":"Save"))))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Oops!!!"),r.a.createElement("div",null,"This page no longer exists..."))}}]),t}(r.a.Component),z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(u.a)(t,null,[{key:"logOut",value:function(e){e.preventDefault(),y()}}]),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"app-header"},r.a.createElement(o.b,{to:"/"},r.a.createElement("span",{id:"app-logo"},"TeamWork")),r.a.createElement("div",{className:"nav-menu-wrapper"},r.a.createElement("ul",{className:"nav-menu"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/"},"Home")),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.c,{to:"/feed"},"Feed")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/article/create"},"Add Article")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/gif/create"},"Add Gif")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"/user/create"},"Add User")),r.a.createElement("li",null,r.a.createElement(o.c,{to:"#",onClick:t.logOut},"Logout")))))),r.a.createElement("div",{className:"app-content-wrapper"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",component:I,exact:!0}),r.a.createElement(j,{path:"/feed",component:A,exact:!0}),r.a.createElement(j,{path:"/article/create",component:M,exact:!0}),r.a.createElement(j,{path:"/article/edit/:postId",component:J,exact:!0}),r.a.createElement(j,{path:"/gif/create",component:W,exact:!0}),r.a.createElement(j,{path:"/post/:postType/:postId",component:R,exact:!0}),r.a.createElement(j,{path:"/:postType/delete/:postId",component:B,exact:!0}),r.a.createElement(p.b,{path:"/user/create",component:H,exact:!0}),r.a.createElement(p.b,{path:"*",component:$}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.90c3fa9f.chunk.js.map