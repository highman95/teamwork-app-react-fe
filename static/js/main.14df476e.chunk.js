(this["webpackJsonpteamwork-app-react-fe"]=this["webpackJsonpteamwork-app-react-fe"]||[]).push([[0],{19:function(e,t,a){},24:function(e,t,a){},29:function(e,t,a){e.exports=a(44)},34:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),o=a.n(s),l=a(9),i=(a(34),a(2)),c=a(3),m=a(5),u=a(4),d=a(7),h=a(6),p=a(16),g=null!==localStorage.getItem("qoqxTMwk"),f=function(){return g?JSON.parse(localStorage.getItem("qoqxTMwk")).token:null},v=a(26),b=function(e){var t=e.component,a=Object(v.a)(e,["component"]);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return g?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:"/",state:{from:e.location}}})}}))},E=(a(40),a(13)),j="https://teamwork-app-api-stage.herokuapp.com/api/v1",y={signIn:"".concat(j,"/auth/signin"),signUp:"".concat(j,"/auth/create-user"),feeds:"".concat(j,"/feed"),articles:"".concat(j,"/articles"),gifs:"".concat(j,"/gifs"),roles:"".concat(j,"/roles"),departments:"".concat(j,"/departments")},S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isSigningIn:!1,email:"",password:"",error:null},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({error:null,isSigningIn:!0});var a=this.state,n=a.email,r=a.password,s={method:"POST",mode:"cors",body:JSON.stringify({email:n,password:r}),headers:{"Content-Type":"application/json"}};fetch(y.signIn,s).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var a=e.data,n=a.token,r=a.firstName;localStorage.setItem("qoqxTMwk",JSON.stringify({token:n,firstName:r})),t.setState({error:null,isSigningIn:!1,password:""}),window.location="/feed"})).catch((function(e){return t.setState({error:e.message||e.error.message,isSigningIn:!1,password:""})}))}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isSigningIn,s=e.error;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("span",{className:"message error"},s),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"E-mail Address:",r.a.createElement("input",{type:"email",name:"email",value:t,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:n},n?"Signing in...":"Sign in")," ",r.a.createElement(l.b,{to:"/user/create"},"Sign UP!"))))}}]),t}(r.a.Component),O=(a(41),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return g?r.a.createElement(p.a,{to:"/feed"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-intro"},"Welcome to the"," ",r.a.createElement("strong",null,"TeamWork")," ","app"),r.a.createElement("div",{className:"home-sign-in"},r.a.createElement(S,this.props)))}}]),t}(r.a.Component)),k=a(1),w=a.n(k),C=a(10),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isSaving:!1,error:null,comment:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSave=a.handleSave.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({comment:e.target.value})}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.props,a=t.postType,n=t.postId,r=this.state.comment;this.addComment(r,n,a)}},{key:"addComment",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a,n){var r,s,o=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===a||void 0===n){e.next=6;break}return this.setState({error:null,isSaving:!0}),r="gif"===n?y.gifs:y.articles,s={method:"POST",mode:"cors",body:JSON.stringify({comment:t}),headers:{"Content-Type":"application/json",token:f()}},e.next=6,fetch("".concat(r,"/").concat(a,"/comment"),s).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);(0,o.props.onCommentSave)({commentId:Date.now(),comment:t,authorId:0,authorName:"You"}),o.setState({isSaving:!1,error:null,comment:""})})).catch((function(e){return o.setState({isSaving:!1,error:e.message||e.error.message})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.comment,a=e.error,n=e.isSaving;return r.a.createElement("div",{className:"comment-form"},a&&r.a.createElement("span",{className:"message error"},a),r.a.createElement("form",null,r.a.createElement("textarea",{onChange:this.handleChange,value:t,placeholder:"Add a comment...",disabled:n}),r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:n},n?"Saving...":"Save")))}}]),t}(r.a.Component);a(43);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!1,comments:[],postId:"",postType:""},a.handleCommentsChange=a.handleCommentsChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleCommentsChange",value:function(e){var t=this.state.comments;t.push(e),this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.comments,n=e.postId,s=e.postType,o=a&&a.map((function(e){return r.a.createElement(I,{key:e.commentId,comment:e})}));return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"loading-box"},"Loading Comments..."):r.a.createElement("div",{className:"post-comments-box"},o,r.a.createElement(N,{postId:n,postType:s,onCommentSave:this.handleCommentsChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.comments,n=e.postId,r=e.postType,s=t.comments,o=t.postId;return a.length===s.length&&n===o?null:{comments:a,postId:n,postType:r}}}]),t}(r.a.Component);T.defaultProps={comments:[],postId:"",postType:""};var I=function(e){var t=e.comment;return r.a.createElement("div",{className:"comment-wrapper"},r.a.createElement("div",{className:"comment-box"},t.comment),r.a.createElement("div",{className:"author-box"},t.authorName||"User-".concat(t.authorId)))},P=T,q=(a(19),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!1,error:null,post:{comments:[]}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.post;if(void 0!==e.id)this.setState({post:e});else{var t=this.props.match.params,a=t.postType,n=t.postId;this.fetchPost(n,a)}}},{key:"fetchPost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n,r,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=6;break}return this.setState({error:null,isLoading:!0}),n="gif"===a?y.gifs:y.articles,r={headers:{"Content-Type":"application/json",token:f()}},e.next=6,fetch("".concat(n,"/").concat(t),r).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);s.setState({isLoading:!1,error:null,post:e.data})})).catch((function(e){return s.setState({isLoading:!1,error:e.message||e.error.message})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.showComments,t=this.state,a=t.isLoading,n=t.error,s=t.post,o=s.comments;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("span",{className:"message error"},n),a?r.a.createElement("div",{className:"loading-box"},"Loading Post..."):s?r.a.createElement("div",{className:""},r.a.createElement("div",{className:"post-title"},r.a.createElement(l.b,{to:"/post/".concat(s.type,"/").concat(s.id)},s.title),r.a.createElement("div",{className:"post-task-link"},"article"===s.type&&r.a.createElement(l.b,{to:"/".concat(s.type,"/edit/").concat(s.id),className:"edit-link"},"Edit"),r.a.createElement(l.b,{to:"/".concat(s.type,"/delete/").concat(s.id),className:"delete-link"},"Delete"))),r.a.createElement("div",{className:"post-content"},void 0!==s.article?r.a.createElement("div",{className:"post-content-text"},s.article):r.a.createElement("img",{src:s.url,alt:"".concat(s.title,"-").concat(Date.now()),className:"post-content-image"})),e&&r.a.createElement(P,{comments:o,postId:s.id,postType:s.type})):r.a.createElement("h4",null,"Post does not exist..."))}}]),t}(r.a.Component));q.defaultProps={showComments:!0,showTrimmed:!1,post:{}};var D=q,F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!1,error:null,feeds:[]},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchFeeds()}},{key:"fetchFeeds",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:null,isLoading:!0}),t={mode:"cors",headers:{"Content-Type":"application/json",token:f()}},e.next=4,fetch(y.feeds,t).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);a.setState({isLoading:!1,error:null,feeds:e.data})})).catch((function(e){return a.setState({isLoading:!1,error:e.message||e.error.message})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.error,n=e.feeds.map((function(e,t){return r.a.createElement(D,{key:t,showComments:!1,post:e})}));return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("span",{className:"message error"},a),t?r.a.createElement("div",{className:"loading-box"},"Loading Feeds..."):n)}}]),t}(r.a.Component);a(24);function L(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Article"),r.a.createElement("hr",null),r.a.createElement(A,null))}function R(e){var t=e.match.params.postId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Edit Article"),r.a.createElement("hr",null),r.a.createElement(A,{postId:t}))}var A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isSaving:!1,message:null,error:null,title:"",article:"",postId:e.postId||0},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSave=a.handleSave.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.postId,a=e.isSaving;0!==t&&(this.setState({isSaving:!0}),this.fetchPost(t,"article"),this.setState({isSaving:a}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state,a=t.title,n=t.article,r=t.postId;0===r?this.addPost(a,n):this.udpatePost(r,a,n)}},{key:"addPost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n,r=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=5;break}return this.setState({isSaving:!0,message:null,error:null}),n={method:"POST",mode:"cors",body:JSON.stringify({title:t,article:a}),headers:{"Content-Type":"application/json",token:f()}},e.next=5,fetch("".concat(y.articles),n).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var t=e.data.message;r.setState({isSaving:!1,message:t,error:null,title:"",article:""})})).catch((function(e){return r.setState({isSaving:!1,message:null,error:e.message||e.error.message})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fetchPost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n,r,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||0===t||void 0===a){e.next=6;break}return this.setState({error:null,isLoading:!0}),n="gif"===a?y.gifs:y.articles,r={headers:{"Content-Type":"application/json",token:f()}},e.next=6,fetch("".concat(n,"/").concat(t),r).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var t=e.data,a=t.title,n=t.article;s.setState({isLoading:!1,error:null,title:a,article:n})})).catch((function(e){return s.setState({isLoading:!1,error:e.message||e.error.message})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"udpatePost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a,n){var r,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a||void 0===n){e.next=5;break}return this.setState({isSaving:!0,message:null,error:null}),r={method:"PATCH",mode:"cors",body:JSON.stringify({title:a,article:n}),headers:{"Content-Type":"application/json",token:f()}},e.next=5,fetch("".concat(y.articles,"/").concat(t),r).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var t=e.data.message;s.setState({isSaving:!1,message:t,error:null})})).catch((function(e){return s.setState({isSaving:!1,message:null,error:e.message||e.error.message})}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isSaving,a=e.message,n=e.error,s=e.title,o=e.article;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-form-wrapper"},a&&r.a.createElement("span",{className:"message success"},a),n&&r.a.createElement("span",{className:"message error"},n),r.a.createElement("div",{className:"post-form-display"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",value:s,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Content:",r.a.createElement("textarea",{name:"article",rows:"7",value:o,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:t},t?"Saving...":"Save")))),r.a.createElement("div",{id:"post-form-reporter"})))}}]),t}(r.a.Component);function M(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Gif"),r.a.createElement("hr",null),r.a.createElement(J,null))}var J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isSaving:!1,message:null,error:null,title:"",image:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSave=a.handleSave.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=t.type,s=t.files;n="file"===r?s[0]:n,this.setState(Object(E.a)({},a,n))}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state,a=t.title,n=t.image;this.addPost(a,n)}},{key:"addPost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n,r,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=8;break}return this.setState({isSaving:!0,message:null,error:null}),(n=new FormData).append("title",t),n.append("image",a),r={method:"POST",mode:"cors",body:n,headers:{token:f()}},e.next=8,fetch("".concat(y.gifs),r).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var t=e.data.message;s.setState({isSaving:!1,message:t,error:null,title:"",image:""})})).catch((function(e){return s.setState({isSaving:!1,message:null,error:e.message||e.error.message})}));case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isSaving,a=e.message,n=e.error,s=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"post-form-wrapper"},a&&r.a.createElement("span",{className:"message success"},a),n&&r.a.createElement("span",{className:"message error"},n),r.a.createElement("div",{className:"post-form-display"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",name:"title",value:s,onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image:",r.a.createElement("input",{type:"file",name:"image",onChange:this.handleChange,required:!0,disabled:t}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSave,disabled:t},t?"Saving...":"Save")))),r.a.createElement("div",{id:"post-form-reporter"})))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isDeleting:!1,message:null,error:null},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.props.match.params,a=t.postId,n=t.postType;this.deletePost(a,n)}},{key:"deletePost",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a){var n,r,s=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||void 0===a){e.next=6;break}return this.setState({isDeleting:!0}),n="gif"===a?y.gifs:y.articles,r={method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",token:f()}},e.next=6,fetch("".concat(n,"/").concat(t),r).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);s.setState({isDeleting:!1,error:null,message:e.data.message})})).catch((function(e){return s.setState({isDeleting:!1,message:null,error:e.message||e.error.message})}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.match.params.postType,t=this.state,a=t.isDeleting,n=t.message,s=t.error;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("span",{className:"message success"},n),s&&r.a.createElement("span",{className:"message error"},s),r.a.createElement("div",null,r.a.createElement("div",null,"Are you sure you want to delete the ",r.a.createElement("strong",null,e)," Post?"),r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:a},a?"Deleting":"Continue")))}}]),t}(r.a.Component);function W(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Register User Account"),r.a.createElement("hr",null),r.a.createElement(G,null))}var G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isRequesting:!1,message:null,error:null,jobRoles:[],departments:[],firstName:"",lastName:"",email:"",password:"",gender:"male",jobRole:"",department:"",address:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.populateFields()}},{key:"populateFields",value:function(){var e=Object(C.a)(w.a.mark((function e(){var t,a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isRequesting:!0}),t={mode:"cors"},e.next=4,fetch(y.roles,t).then((function(e){return e.json()})).then((function(e){fetch(y.departments,t).then((function(e){return e.json()})).then((function(t){var n=e.data,r=t.data;a.setState({isRequesting:!1,jobRole:n[0].name,jobRoles:n,department:r[0].name,departments:r})})).catch((function(e){return a.setState({error:e.message||e.error.message,isRequesting:!1})}))})).catch((function(e){return a.setState({error:e.message||e.error.message,isRequesting:!1})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(E.a)({},a,n))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a=t.firstName,n=t.lastName,r=t.email,s=t.password,o=t.gender,l=t.jobRole,i=t.department,c=t.address;this.addUser(a,n,r,s,o,l,i,c)}},{key:"addUser",value:function(){var e=Object(C.a)(w.a.mark((function e(t,a,n,r,s,o,l,i){var c,m=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isRequesting:!0,message:null}),c={method:"POST",mode:"cors",body:JSON.stringify({firstName:t,lastName:a,email:n,password:r,gender:s,jobRole:o,department:l,address:i}),headers:{"Content-Type":"application/json"}},e.next=4,fetch(y.signUp,c).then((function(e){return e.json()})).then((function(e){if("error"===e.status)throw new Error(e.error);var t=e.data,a=t.message,n=t.token,r=t.firstName;m.setState({isRequesting:!1,message:a,error:null,firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""}),g||(localStorage.setItem("qoqxTMwk",JSON.stringify({token:n,firstName:r})),window.location="/feed")})).catch((function(e){return m.setState({isRequesting:!1,error:e.message||e.error.message})}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s,o,l,i){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.email,s=e.password,o=e.jobRole,l=e.department,i=e.address,c=e.isRequesting,m=e.message,u=e.error,d=e.jobRoles,h=e.departments,p=d&&d.map((function(e){return r.a.createElement("option",{key:Math.random(),value:e.id},e.name)})),g=h&&h.map((function(e){return r.a.createElement("option",{key:Math.random(),value:e.id},e.name)}));return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement("span",{className:"message success"},m),u&&r.a.createElement("span",{className:"message error"},u),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name:",r.a.createElement("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange,disabled:c,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name:",r.a.createElement("input",{type:"text",name:"lastName",value:a,onChange:this.handleChange,disabled:c,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email Address:",r.a.createElement("input",{type:"email",name:"email",value:n,onChange:this.handleChange,disabled:c,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:",r.a.createElement("input",{type:"password",name:"password",value:s,onChange:this.handleChange,disabled:c,required:!0}))),r.a.createElement("div",{className:"form-group"},"Gender:",r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"male",onChange:this.handleChange,maxLength:"6",disabled:c,defaultChecked:!0})," Male"),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"gender",value:"female",onChange:this.handleChange,maxLength:"6",disabled:c})," Female"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Job Role:",r.a.createElement("select",{name:"jobRole",value:o,onChange:this.handleChange,disabled:c,required:!0},p))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Department:",r.a.createElement("select",{name:"department",value:l,onChange:this.handleChange,disabled:c,required:!0},g))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Address:",r.a.createElement("textarea",{name:"address",value:i,onChange:this.handleChange,disabled:c,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",onClick:this.handleSubmit,disabled:c},c?"Saving...":"Save"))))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Oops!!!"),r.a.createElement("div",null,"This page no longer exists..."))}}]),t}(r.a.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={},a.logOut=a.logOut.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"logOut",value:function(e){return e.preventDefault(),localStorage.removeItem("qoqxTMwk"),r.a.createElement(p.a,{to:"/",push:!0})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"app-header"},r.a.createElement(l.b,{to:"/"},r.a.createElement("span",{id:"app-logo"},"TeamWork")),r.a.createElement("div",{className:"nav-menu-wrapper"},r.a.createElement("ul",{className:"nav-menu"},r.a.createElement("li",null,r.a.createElement(l.c,{to:"/"},"Home")),g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(l.c,{to:"/feed"},"Feed")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/article/create"},"Add Article")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/gif/create"},"Add Gif")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"/user/create"},"Add User")),r.a.createElement("li",null,r.a.createElement(l.c,{to:"",onClick:this.logout},"Logout")))))),r.a.createElement("div",{className:"app-content-wrapper"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",component:O,exact:!0}),r.a.createElement(b,{path:"/feed",component:F,exact:!0}),r.a.createElement(b,{path:"/article/create",component:L,exact:!0}),r.a.createElement(b,{path:"/article/edit/:postId",component:R,exact:!0}),r.a.createElement(b,{path:"/gif/create",component:M,exact:!0}),r.a.createElement(b,{path:"/post/:postType/:postId",component:D,exact:!0}),r.a.createElement(b,{path:"/:postType/delete/:postId",component:U,exact:!0}),r.a.createElement(p.b,{path:"/user/create",component:W,exact:!0}),r.a.createElement(p.b,{path:"*",component:B}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.14df476e.chunk.js.map